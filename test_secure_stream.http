# ğŸ›¡ï¸ Tests des Endpoints SÃ©curisÃ©s - Live Streaming

### 1. ğŸ” Connexion Admin
POST http://localhost:8080/auth/admin
Content-Type: application/json

{
  "username": "fils@cinefilm.cd",
  "password": "p@ssword123654"
}

### 2. ğŸ“º Mise Ã  Jour URL Stream (SÃ©curisÃ©e)
PUT http://localhost:8080/api/admin/event/update-stream
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "streamUrl": "https://secure-stream-platform.com/live/concert-secret-123"
}

### 3. ğŸ‘¤ Enregistrement Utilisateur
POST http://localhost:8080/api/register
Content-Type: application/json

{
  "fullName": "Test User",
  "phone": "243999999999"
}

### 4. ğŸ’³ Initiation Paiement
POST http://localhost:8080/api/payments/initiate
Content-Type: application/json

{
  "email": "test@example.com",
  "fullName": "Test User",
  "phone": "243999999999",
  "paymentMethod": "card"
}

### 5. âœ… Confirmation Paiement
POST http://localhost:8080/api/payments/confirm
Content-Type: application/json

{
  "paymentId": 1
}

### 6. ğŸ« Validation Code d'AccÃ¨s
POST http://localhost:8080/api/validate
Content-Type: application/json

{
  "code": "CINE-A1B2C3D4"
}

### 7. ğŸ”’ AccÃ¨s Stream Ultra-SÃ©curisÃ©
POST http://localhost:8080/api/admin/stream/secure-access
Content-Type: application/json
Authorization: Bearer {{admin_token}}

{
  "liveToken": "{{live_token}}",
  "userId": 1,
  "sessionId": "SESSION-SECURE-123"
}

### 8. ğŸ“Š VÃ©rification Statuts Utilisateurs (Admin)
GET http://localhost:8080/api/users
Authorization: Bearer {{admin_token}}

### 9. ğŸ“‹ Liste Paiements (Admin)
GET http://localhost:8080/api/payments
Authorization: Bearer {{admin_token}}

### 10. ğŸ« Liste Codes d'AccÃ¨s (Admin)
GET http://localhost:8080/api/access_codes
Authorization: Bearer {{admin_token}}

---

## ğŸ” Instructions d'utilisation :

1. **Remplacer les variables** :
   - `{{admin_token}}` : Token obtenu Ã  l'Ã©tape 1
   - `{{live_token}}` : Token obtenu Ã  l'Ã©tape 6

2. **SÃ©quence recommandÃ©e** :
   - Admin login â†’ Update stream URL â†’ User registration â†’ Payment â†’ Code validation â†’ Secure stream access

3. **SÃ©curitÃ© maximale** :
   - L'endpoint `/api/admin/stream/secure-access` nÃ©cessite 3 validations simultanÃ©es
   - Logging automatique de tous les accÃ¨s
   - Expiration rapide des tokens (5 minutes)